
export const CONSTRUCTION_HIERARCHY = {
  "直接工事費": {
    "着手前及び完成写真": {
      "舗装工": {
        "舗装打換え工": {
          "表層工": {
            "aliases": ["着手前", "完了", "竣工"]
          }
        },
        "未舗装部舗装工": {
          "表層工": {
            "aliases": ["着手前", "完了", "竣工"]
          }
        },
        "瀝青安定処理路盤工": {
          "表層工": {
            "aliases": ["着手前", "完了", "竣工"]
          }
        }
      }
    },
    "施工状況写真": {
      "構造物撤去工": {
        "構造物取壊し工": {
          "コンクリート構造物取壊し": {
            "取壊し状況": {},
            "コンクリート（有筋）処分前": {},
            "コンクリート（有筋）処分中": {},
            "コンクリート（有筋）処分後": {},
            "処分前": {},
            "処分中": {},
            "処分後": {},
            "積込状況": {}
          }
        }
      },
      "道路土工": {
        "掘削工": {
          "掘削状況": {},
          "掘削完了": {}
        },
        "路床工": {
          "路床整正状況": {},
          "路床転圧状況": {},
          "路床完了": {}
        },
        "法面工": {
          "法面整形状況": {},
          "植生工施工状況": {}
        }
      },
      "舗装工": {
        "舗装打換え工": {
          "舗装版切断": {
            "As舗装版切断状況": {},
            "既設舗装版切断状況": {},
            "完了": {}
          },
          "舗装版破砕": {
            "剥取状況": {},
            "積込状況": {},
            "既設舗装厚さ確認": {},
            "完了": {}
          },
          "上層路盤工": {
            "補足材搬入状況 M-40": {},
            "補足材搬入状況 RC-40": {},
            "補足材搬入状況 RM-40": {},
            "不陸整正状況": {},
            "転圧状況": {},
            "路盤完了状況": {}
          },
          "表層工": {
            "プライムコート乳剤散布状況": {},
            "プライムコート養生砂散布状況": {},
            "プライムコート養生砂清掃状況": {},
            "端部乳剤塗布状況": {},
            "舗設状況": {},
            "初期転圧状況": {},
            "2次転圧状況": {},
            "施工完了": {}
          }
        },
        "未舗装部舗装工": {
          "上層路盤工": {
            "鋤取り状況": {},
            "補足材搬入状況 M-40": {},
            "補足材搬入状況 RC-40": {},
            "補足材搬入状況 RM-40": {},
            "不陸整正状況": {},
            "転圧状況": {},
            "路盤完了状況": {}
          },
          "表層工": {
            "プライムコート乳剤散布状況": {},
            "プライムコート養生砂散布状況": {},
            "プライムコート養生砂清掃状況": {},
            "端部乳剤塗布状況": {},
            "舗設状況": {},
            "初期転圧状況": {},
            "2次転圧状況": {},
            "施工完了": {}
          }
        },
        "瀝青安定処理路盤工": {
          "上層路盤工": {
            "補足材搬入状況 M-40": {},
            "補足材搬入状況 RC-40": {},
            "補足材搬入状況 RM-40": {},
            "不陸整正状況": {},
            "転圧状況": {},
            "路盤完了状況": {}
          },
          "表層工": {
            "プライムコート乳剤散布状況": {},
            "プライムコート養生砂散布状況": {},
            "プライムコート養生砂清掃状況": {},
            "端部乳剤塗布状況": {},
            "施工完了": {}
          }
        }
      },
      "区画線工": {
        "区画線工": {
          "溶融式区画線": {
            "清掃状況": {},
            "プライマー散布状況": {},
            "区画線設置状況": {},
            "完了": {}
          }
        }
      },
      "排水構造物工": {
        "作業土工": {
          "床掘り": {
            "掘削状況": {},
            "掘削完了": {}
          },
          "埋戻し": {
            "土砂埋戻し 転圧状況": {},
            "敷均し、転圧状況": {},
            "下層路盤 材料搬入状況 RC-40": {},
            "下層路盤 転圧状況": {},
            "上層路盤 敷均し状況": {},
            "上層路盤M-40 転圧状況": {},
            "完了": {}
          },
          "基礎砕石工": {
            "RC-40 搬入状況": {},
            "基礎砕石敷均し状況": {},
            "基礎砕石転圧状況": {},
            "完了": {}
          },
          "基礎コンクリート工": {
            "型枠設置完了": {},
            "打設前": {},
            "打設完了": {},
            "打設状況": {},
            "打設厚さ確認": {},
            "打設幅確認": {}
          }
        },
        "集水桝工": {
          "集水枡底版": {
            "集水桝底版 打設前確認": {},
            "底版コンクリート 打設前確認": {},
            "底版コンクリート 打設完了": {}
          },
          "プレキャスト集水桝": {
            "据付状況": {},
            "完了": {}
          }
        },
        "側溝工": {
          "側溝蓋": {
            "側溝蓋 打設前確認": {},
            "側溝蓋 打設完了": {},
            "天端コンクリート 打設前確認": {},
            "天端コンクリート 打設完了": {},
            "天端コンクリート 打設状況": {}
          },
          "プレキャストU型側溝": {
            "側溝300　据付状況": {},
            "G付側溝300　据付状況": {},
            "敷モルタル敷均し状況": {},
            "据付状況": {},
            "完了": {}
          }
        },
        "集水桝・マンホール工": {
          "人孔蓋撤去": {
            "鉄蓋処分状況": {},
            "既設人孔撤去状況": {},
            "完了": {}
          },
          "人孔蓋据付": {
            "調整ブロック設置状況": {},
            "据付状況": {},
            "高さ調整完了": {}
          },
          "人孔内部清掃": {
            "清掃状況": {},
            "清掃完了": {}
          },
          "調整蓋据付": {
            "据付状況": {},
            "完了": {}
          },
          "調整リングブロック設置": {
            "設置状況": {},
            "完了": {}
          },
          "転落防止蓋設置": {
            "設置状況": {},
            "完了": {}
          }
        }
      },
      "人孔改良工": {
        "集水桝・マンホール工": {
          "人孔蓋撤去": {
            "鉄蓋処分状況": {},
            "既設人孔撤去状況": {},
            "完了": {}
          },
          "人孔蓋据付": {
            "調整ブロック設置状況": {},
            "据付状況": {},
            "高さ調整完了": {}
          },
          "人孔内部清掃": {
            "清掃状況": {},
            "清掃完了": {}
          },
          "調整ブロック設置": {
            "調整ブロック設置状況": {},
            "完了": {}
          },
          "調整部撤去": {
            "調整部撤去状況": {},
            "完了": {}
          },
          "無収縮モルタル充填": {
            "無収縮モルタル充填状況": {},
            "完了": {}
          }
        },
        "舗装打換え工": {
          "舗装板切断": {
            "舗装板切断状況": {},
            "完了": {}
          },
          "舗装板破砕": {
            "舗装板破砕状況": {},
            "完了": {}
          },
          "既設舗装版撤去": {
            "既設舗装版撤去状況": {},
            "完了": {}
          },
          "上層路盤": {
            "上層路盤施工状況": {},
            "完了": {}
          },
          "表層（プライムコート）": {
            "プライムコート施工状況": {},
            "完了": {}
          },
          "表層（温度管理）": {
            "温度管理状況": {}
          },
          "表層（舗設）": {
            "舗設状況": {},
            "施工完了": {}
          }
        },
        "人孔蓋据付撤去工": {
          "既設人孔蓋撤去": {
            "既設人孔撤去状況": {},
            "撤去完了": {}
          },
          "既設受枠撤去": {
            "既設受枠撤去状況": {},
            "撤去完了": {}
          },
          "鉄蓋処分": {
            "鉄蓋処分状況": {},
            "処分完了": {}
          },
          "人孔蓋転落防止設置": {
            "人孔蓋転落防止設置状況": {},
            "設置完了": {}
          },
          "調整ブロック設置": {
            "調整ブロック設置状況": {},
            "設置完了": {}
          },
          "調整金具取付": {
            "調整金具パッキン取付状況": {},
            "調整金具パッキン使用": {},
            "固定用ボルト設置状況": {},
            "取付完了": {}
          },
          "人孔高さ調整": {
            "人孔(上部)高さ調整完了": {},
            "高さ調整状況": {}
          },
          "人孔内部清掃": {
            "人孔内清掃前状況": {},
            "人孔内清掃完了": {},
            "人孔内コンクリート撤去清掃状況": {}
          },
          "舗装版切断": {
            "舗装版切断状況": {},
            "完了": {}
          },
          "舗装版破砕積込": {
            "舗装版破砕積込状況": {},
            "積込完了": {}
          },
          "コンクリートはつり工": {
            "はつり工状況": {},
            "はつり工完了": {}
          },
          "汚泥吸排車": {
            "汚泥吸排状況": {},
            "汚泥吸排完了": {}
          },
          "表層工": {
            "表層工施工状況": {},
            "表層工完了": {}
          }
        }
      },
      "仮設工": {
        "交通管理工": {
          "交通誘導員配置": {
            "誘導員配置状況": {},
            "規制配置状況": {}
          },
          "保安施設設置": {
            "保安施設設置状況": {},
            "保安施設撤去状況": {},
            "完了": {}
          }
        }
      }
    },
    "安全管理写真": {
       "安全施設工": {
         "保安施設": {
           "看板設置状況": {},
           "バリケード設置状況": {},
           "点灯状況": {}
         }
       },
       "安全衛生": {
         "朝礼状況": {},
         "KY活動状況": {},
         "新規入場者教育状況": {}
       }
    },
    "使用材料写真": {
       "舗装工": {
         "舗装打換え工": {
            "表層工": {
              "材料検収状況": {},
              "搬入状況": {}
            }
         }
       }
    },
    "品質管理写真": {
      "舗装工": {
        "舗装打換え工": {
          "上層路盤工": {
            "現場密度測定工": {
              "aliases": ["密度測定", "RI計器"]
            }
          },
          "表層工": {
            "温度測定工": {
              "aliases": ["温度管理", "出荷時温度", "到着時温度", "舗設時温度"]
            }
          }
        }
      }
    },
    "出来形管理写真": {
      "舗装工": {
        "舗装打換え工": {
          "上層路盤工": {
            "不陸整正出来形": {
              "aliases": ["路盤出来形", "出来形検測", "路盤", "基準高下がり", "基準高"]
            },
            "不陸整正出来形・管理値": {},
            "不陸整正出来形・接写": {},
            "砕石厚測定": {}
          }
        }
      },
      "排水構造物工": {
        "作業土工": {
          "床掘り": {
            "掘削工出来形測定": {}
          },
          "埋戻し": {
            "土砂埋戻し出来形測定": {},
            "下層路盤出来形測定": {},
            "上層路盤出来形測定": {},
            "路床出来形測定": {}
          },
          "基礎砕石工": {
            "基礎砕石工出来形測定": {}
          },
          "基礎コンクリート工": {
            "基礎コンクリート出来形測定": {}
          }
        },
        "集水桝工": {
          "集水枡底版": {
            "集水桝底版出来形測定": {}
          },
          "プレキャスト集水桝": {
            "プレキャスト集水桝出来形測定": {}
          }
        },
        "側溝工": {
          "側溝蓋": {
            "側溝蓋出来形測定": {}
          },
          "プレキャストU型側溝": {
            "プレキャストU型側溝出来形測定": {}
          }
        }
      }
    }
  }
};

// 写真区分の一覧（国土交通省写真管理基準による正式名称）
export const PHOTO_CATEGORIES = [
  "着手前及び完成写真",
  "施工状況写真",
  "安全管理写真",
  "使用材料写真",
  "品質管理写真",
  "出来形管理写真",
  "災害写真",
  "事故写真",
  "その他"
] as const;

export type PhotoCategoryType = typeof PHOTO_CATEGORIES[number];

// 備考テキストから写真区分を推定する
export function inferPhotoCategory(remarkText: string): PhotoCategoryType {
  if (remarkText.includes("着手前") || remarkText.includes("完成") || remarkText.includes("竣工")) {
    return "着手前及び完成写真";
  }
  // 品質管理は出来形より先にチェック（「密度測定」は品質管理）
  if (remarkText.includes("品質") || remarkText.includes("温度") || remarkText.includes("密度")) {
    return "品質管理写真";
  }
  if (remarkText.includes("出来形") || remarkText.includes("測定")) {
    return "出来形管理写真";
  }
  if (remarkText.includes("材料") || remarkText.includes("検収") || remarkText.includes("搬入")) {
    return "使用材料写真";
  }
  if (remarkText.includes("安全") || remarkText.includes("朝礼") || remarkText.includes("KY")) {
    return "安全管理写真";
  }
  return "施工状況写真";
}
